<form class="dialog" [formGroup]="form" (submit)="submit()">
  <div>
    <h1 mat-dialog-title>{{ dialogTitle }}</h1>
    <mat-spinner *ngIf="loading"></mat-spinner>
    <div *ngIf="!loading" class="form" mat-dialog-content>
      <mat-form-field appearance="outline">
        <mat-label>Login</mat-label>
        <input autocomplete="off" formControlName="username" matInput />
        <mat-icon
          *ngIf="!isLoginDialog"
          matSuffix
          matTooltip="Length between 5 and 15, should only contain alphanumeric characters
      and/or underscores, first character should be
      alphabetic"
          >info</mat-icon
        >
        <mat-error *ngIf="controlHasError('username', 'required')"
          >Login is required</mat-error
        >
        <mat-error *ngIf="controlHasError('username', 'pattern')"
          >Login is invalid</mat-error
        >
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input
          [type]="isPasswordType ? 'password' : 'text'"
          formControlName="password"
          matInput
          autocomplete="off"
        />
        <mat-icon
          class="eye"
          (click)="changeInputType()"
          *ngIf="!isLoginDialog"
          matSuffix
          >remove_red_eye</mat-icon
        >
        <mat-icon
          class="right"
          *ngIf="!isLoginDialog"
          matSuffix
          matTooltip="
          At least one upper and lower case English letter, at least one digit, at least one special character, minimum eight in length.
      "
          >info</mat-icon
        >
        <mat-error *ngIf="controlHasError('password', 'required')"
          >Password is required</mat-error
        >
        <mat-error *ngIf="controlHasError('password', 'pattern')"
          >Password is invalid</mat-error
        >
      </mat-form-field>

      <mat-form-field *ngIf="!isLoginDialog" appearance="outline">
        <mat-label>Confirm password</mat-label>
        <input
          [type]="isPasswordType ? 'password' : 'text'"
          formControlName="confirm"
          matInput
          autocomplete="off"
        />
        <mat-icon
          class="eye"
          (click)="changeInputType()"
          *ngIf="!isLoginDialog"
          matSuffix
          >remove_red_eye</mat-icon
        >
        <mat-error *ngIf="controlHasError('confirm', 'required')"
          >Field is required</mat-error
        >
        <mat-error *ngIf="controlHasError('confirm', 'notSame')"
          >Passwords do not match</mat-error
        >
      </mat-form-field>
    </div>
  </div>

  <div class="actions" mat-dialog-actions>
    <button mat-button [mat-dialog-close]="false">Close</button>
    <button [disabled]="form.invalid" mat-button type="submit">Submit</button>
  </div>
</form>
